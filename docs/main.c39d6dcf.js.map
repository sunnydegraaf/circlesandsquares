{"version":3,"sources":["utils/joystick.ts","utils/arcade.ts","CST.ts","assets/maps/level1.json","scenes/LoadScene.ts","scenes/MenuScene.ts","objects/characterBait.ts","objects/pushBlock.ts","objects/enemy.ts","objects/bait.ts","scenes/PlayScene.ts","scenes/GameOverScene.ts","main.ts","../../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["module","exports","OVERLAY_ID","OldModule","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","window","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","length","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"main.c39d6dcf.js","sourceRoot":"..\\src","sourcesContent":["export class Joystick {\r\n\r\n    // BUT1 and BUT2 are the indexes of the redirect function. \r\n    // When both are pressed, redirect to homepage\r\n    private readonly BUT1: number = 8\r\n    private readonly BUT2: number = 9\r\n\r\n    // FIELDS\r\n    private joystickNumber: number = 0\r\n    private numberOfBUttons: number = 0\r\n    private axes: number[] = []\r\n\r\n    private gamepad: Gamepad\r\n    private previousGamepad: Gamepad\r\n\r\n    // private isConnected     : boolean = false\r\n    public isConnected: boolean = false\r\n\r\n    // PROPERTIES\r\n    // axes for directional use \r\n    // values are -1, 0, 1 because arcade sticks are digital\r\n    public get X(): number { return Math.round(this.axes[0]) }\r\n    public get Y(): number { return Math.round(this.axes[1]) }\r\n\r\n    // Joystick identifier\r\n    public get JoystickNumber(): number { return this.joystickNumber }\r\n\r\n    // Current gamepad\r\n    public get Gamepad(): Gamepad { return this.gamepad }\r\n    public set Gamepad(gamepad: Gamepad) { this.gamepad = gamepad; }\r\n\r\n    // previous gamepad\r\n    public get PreviousGamepad(): Gamepad { return this.previousGamepad }\r\n    public set PreviousGamepad(previousGamepad: Gamepad) { this.previousGamepad = previousGamepad; }\r\n\r\n    /**\r\n     * Creates a joystick object for one player\r\n     * @param joystickNumber The number of the first joystick starts at 0\r\n     * @param numOfButtons The number of buttons needed by your game\r\n     */\r\n    constructor(joystickNumber: number, numOfButtons: number) {\r\n        this.joystickNumber = joystickNumber\r\n        this.numberOfBUttons = numOfButtons\r\n    }\r\n\r\n    public update(): void {\r\n        if (this.isConnected) {\r\n            let gamepad = navigator.getGamepads()[this.gamepad.index];\r\n\r\n            if (gamepad) {\r\n                this.readGamepad(gamepad)\r\n            }\r\n        }\r\n    }\r\n\r\n    private readGamepad(gamepad: Gamepad): void {\r\n        for (let index = 0; index < this.numberOfBUttons; index++) {\r\n            if (this.buttonPressed(gamepad.buttons[index]) && !this.buttonPressed(this.previousGamepad.buttons[index])) {\r\n                let eventName = 'joystick' + this.JoystickNumber + 'button' + (index)\r\n                console.log(\"Dispatch event: \" + eventName)\r\n                document.dispatchEvent(new Event(eventName))\r\n            }\r\n            if (this.buttonPressed(gamepad.buttons[this.BUT1]) && this.buttonPressed(gamepad.buttons[this.BUT2]) &&\r\n                (!this.buttonPressed(this.previousGamepad.buttons[this.BUT1]) || !this.buttonPressed(this.previousGamepad.buttons[this.BUT2]))) {\r\n                document.dispatchEvent(new Event('redirect'))\r\n            }\r\n        }\r\n\r\n        // gamepad has 4 axes, first is x, second is y\r\n        // an axe returns a float, only int is needed\r\n        this.axes[0] = Math.round(gamepad.axes[0])\r\n        this.axes[1] = Math.round(gamepad.axes[1])\r\n\r\n        this.previousGamepad = gamepad\r\n    }\r\n    /**\r\n     * Helper function to filter some bad input\r\n     * @param b \r\n     */\r\n    private buttonPressed(b: any): any {\r\n        if (typeof (b) == \"object\") {\r\n            return b.pressed;\r\n        }\r\n        return b == 1.0;\r\n    }\r\n\r\n    public destroy() {\r\n        \r\n    }\r\n}","import { Joystick } from \"./joystick\"\r\n\r\nexport class Arcade {\r\n    private joysticks: Joystick[]\r\n    private readonly REDIRECT_URL: string = \"http://hr-cmgt.github.io/arcade-server\"\r\n\r\n    // PROPERTIES\r\n    public get Joysticks(): Joystick[] { return this.joysticks }\r\n\r\n    /**\r\n     * Creates an arcade 'cabinet'\r\n     */\r\n    constructor() {\r\n        this.joysticks = []\r\n\r\n        document.addEventListener(\"redirect\", () => this.onRedirect())\r\n        window.addEventListener(\"gamepadconnected\", (e: Event) => this.onGamePadConnected(e as GamepadEvent))\r\n        window.addEventListener(\"gamepaddisconnected\", (e: Event) => this.onGamePadDisconnected(e as GamepadEvent))\r\n    }\r\n\r\n    /**\r\n     * Handles redirect fired from joystick\r\n     */\r\n    private onRedirect(): void {\r\n        window.location.href = this.REDIRECT_URL\r\n    }\r\n\r\n    /**\r\n     * Handles connecting a joystick\r\n     * @param e Gamepad event\r\n     */\r\n    private onGamePadConnected(e: GamepadEvent): void {\r\n\r\n        console.log('Game pad connected')\r\n        console.log(\"Joystick number: \" + e.gamepad.index)\r\n\r\n        let joystick = this.createAndAddJoystick(e.gamepad.index, 6)\r\n        joystick.isConnected = true\r\n        joystick.PreviousGamepad = joystick.Gamepad\r\n        joystick.Gamepad = e.gamepad\r\n        if (joystick.PreviousGamepad == null) {\r\n            joystick.PreviousGamepad = e.gamepad\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handles disconnecting a joystick\r\n     * @param e Gamepad event\r\n     */\r\n    private onGamePadDisconnected(e: GamepadEvent): void {\r\n        this.removeJoystick(e.gamepad.index);\r\n    }\r\n\r\n    /**\r\n     * Creates an Joystick and adds it to this arcade\r\n     * @param joystickNumber Unique identifier given by the joystick\r\n     * @param numOfButtons Sets number of buttons on joystick\r\n     */\r\n    public createAndAddJoystick(joystickNumber: number, numOfButtons: number): Joystick {\r\n        let joystickCheck = this.getJoystickByNumber(joystickNumber)\r\n        if (joystickCheck != null) {\r\n            return joystickCheck\r\n        }\r\n\r\n        let joystickNew = new Joystick(joystickNumber, numOfButtons)\r\n        this.joysticks[joystickNumber] = joystickNew\r\n        return joystickNew\r\n    }\r\n\r\n    /**\r\n     * Removes a Joystick from this arcade\r\n     * @param joystickNumber Unique identifier of the joystick\r\n     */\r\n    public removeJoystick(joystickNumber: number): void {\r\n        let joystickCheck = this.getJoystickByNumber(joystickNumber)\r\n        if (joystickCheck == null) {\r\n            return\r\n        }\r\n\r\n        var index = this.joysticks.indexOf(joystickCheck);\r\n        this.joysticks[index].destroy()\r\n        if (index > -1) {\r\n            this.joysticks.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get a Joystick with its unique identifier\r\n     * @param joystickNumber Unique identifier given by the joystick\r\n     */\r\n    public getJoystickByNumber(joystickNumber: number): any {\r\n        for (let joystick of this.joysticks) {\r\n            if (joystick.JoystickNumber == joystickNumber) {\r\n                return joystick\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}","export const CST = {\r\n  SCENES: {\r\n    LOAD: \"LOAD\",\r\n    MENU: \"MENU\",\r\n    PLAY: \"PLAY\",\r\n    GAMEOVER: \"GAMEOVER\"\r\n  },\r\n  IMAGE: {\r\n    OPTIONS: \"options_button2.png\",\r\n    PLAY: \"play_button2.png\",\r\n    TITLE: \"background2.jpg\"\r\n  },\r\n  AUDIO: {},\r\n  SPRITE: {}\r\n};\r\n","module.exports = { \"height\":15,\r\n \"infinite\":false,\r\n \"layers\":[\r\n        {\r\n         \"data\":\"KgAAACoAAAAwAAAAKgAAACoAAAAqAAAAMAAAACoAAAAwAAAAMAAAACoAAAAwAAAAMAAAACoAAAAwAAAAKgAAACoAAAAqAAAAMAAAACoAAAAqAAAAKgAAADAAAAAqAAAAKgAAACoAAAAwAAAAMAAAADAAAAAwAAAAMAAAACoAAAAwAAAAMAAAACoAAAAwAAAAMAAAADAAAAAwAAAAMAAAACoAAAAqAAAAKgAAACoAAAAwAAAAKgAAACoAAAAwAAAAKgAAACoAAAAwAAAAKgAAADAAAAAwAAAAKgAAACoAAAAwAAAAMAAAADAAAAAqAAAAKgAAACoAAAAwAAAAKgAAACoAAAAwAAAAMAAAADAAAAAqAAAAKgAAACoAAAAwAAAAMAAAADAAAAAqAAAAKgAAACoAAAAqAAAAMAAAACoAAAAqAAAAMAAAADAAAAAqAAAAMAAAADAAAAAwAAAAKgAAACoAAAAwAAAAMAAAACoAAAAwAAAAKgAAACoAAAAwAAAAKgAAADAAAAAwAAAAKgAAACoAAAAwAAAAMAAAACoAAAAwAAAAMAAAACoAAAAwAAAAMAAAADAAAAAwAAAAKgAAADAAAAAwAAAAKgAAACoAAAAqAAAAKgAAACoAAAAwAAAAMAAAACoAAAAwAAAAKgAAACoAAAAqAAAAMAAAACoAAAAqAAAAMAAAADAAAAAwAAAAMAAAACoAAAAqAAAAMAAAACoAAAAqAAAAMAAAACoAAAAwAAAAMAAAADAAAAAqAAAAMAAAADAAAAAwAAAAKgAAACoAAAAwAAAAMAAAADAAAAAwAAAAMAAAACoAAAAwAAAAKgAAADAAAAAwAAAAKgAAACoAAAAwAAAAMAAAADAAAAAwAAAAKgAAACoAAAAwAAAAMAAAADAAAAAwAAAAMAAAACoAAAAwAAAAKgAAADAAAAAwAAAAKgAAADAAAAAwAAAAMAAAADAAAAAqAAAAKgAAADAAAAAwAAAAMAAAACoAAAAqAAAAKgAAACoAAAAwAAAAMAAAACoAAAAqAAAAKgAAADAAAAAwAAAAKgAAACoAAAAwAAAAMAAAADAAAAAwAAAAKgAAADAAAAAwAAAAKgAAACoAAAAwAAAAMAAAADAAAAAqAAAAKgAAADAAAAAqAAAAKgAAADAAAAAwAAAAMAAAACoAAAAwAAAAMAAAADAAAAAwAAAAKgAAACoAAAAqAAAAKgAAADAAAAAwAAAAMAAAACoAAAAwAAAAMAAAADAAAAAqAAAAMAAAADAAAAAwAAAAKgAAADAAAAAqAAAAMAAAACoAAAAwAAAAKgAAACoAAAAqAAAAMAAAADAAAAAwAAAAKgAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAqAAAAKgAAADAAAAAwAAAAKgAAADAAAAAwAAAAMAAAADAAAAAwAAAAKgAAADAAAAAwAAAAKgAAADAAAAAwAAAAMAAAACoAAAAwAAAAKgAAACoAAAAqAAAAKgAAACoAAAAwAAAAMAAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAwAAAAKgAAADAAAAAwAAAAKgAAACoAAAAqAAAA\",\r\n         \"encoding\":\"base64\",\r\n         \"height\":15,\r\n         \"id\":1,\r\n         \"name\":\"ground\",\r\n         \"opacity\":1,\r\n         \"type\":\"tilelayer\",\r\n         \"visible\":false,\r\n         \"width\":20,\r\n         \"x\":0,\r\n         \"y\":0\r\n        }, \r\n        {\r\n         \"data\":\"JQAAACYAAAAmAAAAJgAAACYAAAAmAAAAJgAAACYAAAAmAAAAJgAAACYAAAAmAAAAJgAAACYAAAAmAAAAJgAAACYAAAAmAAAAJgAAACcAAAAtAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALwAAAC0AAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAoAAAAKAAAACgAAAAAAAAAKAAAAAAAAAAvAAAALQAAAAAAAAAwAAAAAAAAACUAAAAnAAAAAAAAACgAAAAoAAAAKAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAwAAAAAAAAAC8AAAAtAAAAAAAAACgAAAAAAAAALQAAAC8AAAAAAAAAAAAAAAAAAAAoAAAAAAAAACgAAAAoAAAAKAAAAAAAAAAoAAAAAAAAACgAAAAAAAAALwAAAC0AAAAAAAAAKAAAAAAAAAAtAAAALwAAAAAAAAAoAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAACgAAAAAAAAAKAAAAAAAAAAvAAAALQAAAAAAAAAoAAAAAAAAADUAAAA3AAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAKAAAACgAAAAAAAAAKAAAACgAAAAoAAAAAAAAAC8AAAAtAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACgAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALwAAAC0AAAAAAAAAKAAAACgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAKAAAAAAAAAAoAAAAKAAAADAAAAAoAAAAKAAAAAAAAAAvAAAALQAAAAAAAAAoAAAAAAAAAAAAAAAoAAAAMAAAACgAAAAAAAAAKAAAAAAAAAAoAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAC8AAAAtAAAAAAAAADAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAKAAAAAAAAAAoAAAAKAAAACgAAAAAAAAALwAAAC0AAAAAAAAAKAAAAAAAAAAAAAAAKAAAACgAAAAoAAAAMAAAACgAAAAAAAAAKAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvAAAALQAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAKAAAACgAAAAwAAAAKAAAACgAAAAoAAAAAAAAAC8AAAAtAAAAAAAAACgAAAAAAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALwAAADUAAAA2AAAANgAAADYAAAA2AAAANgAAADYAAAA2AAAANgAAADYAAAA2AAAANgAAADYAAAA2AAAANgAAADYAAAA2AAAANgAAADYAAAA3AAAA\",\r\n         \"encoding\":\"base64\",\r\n         \"height\":15,\r\n         \"id\":3,\r\n         \"name\":\"top\",\r\n         \"opacity\":1,\r\n         \"type\":\"tilelayer\",\r\n         \"visible\":true,\r\n         \"width\":20,\r\n         \"x\":0,\r\n         \"y\":0\r\n        }, \r\n        {\r\n         \"data\":\"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAA8AAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\r\n         \"encoding\":\"base64\",\r\n         \"height\":15,\r\n         \"id\":2,\r\n         \"name\":\"wall\",\r\n         \"opacity\":1,\r\n         \"type\":\"tilelayer\",\r\n         \"visible\":false,\r\n         \"width\":20,\r\n         \"x\":0,\r\n         \"y\":0\r\n        }, \r\n        {\r\n         \"draworder\":\"topdown\",\r\n         \"id\":5,\r\n         \"name\":\"pushBlocks\",\r\n         \"objects\":[\r\n                {\r\n                 \"gid\":65,\r\n                 \"height\":32,\r\n                 \"id\":16,\r\n                 \"name\":\"\",\r\n                 \"rotation\":0,\r\n                 \"type\":\"\",\r\n                 \"visible\":true,\r\n                 \"width\":32,\r\n                 \"x\":64,\r\n                 \"y\":128\r\n                }, \r\n                {\r\n                 \"gid\":65,\r\n                 \"height\":32,\r\n                 \"id\":17,\r\n                 \"name\":\"\",\r\n                 \"rotation\":0,\r\n                 \"type\":\"\",\r\n                 \"visible\":true,\r\n                 \"width\":32,\r\n                 \"x\":64,\r\n                 \"y\":352\r\n                }, \r\n                {\r\n                 \"gid\":65,\r\n                 \"height\":32,\r\n                 \"id\":18,\r\n                 \"name\":\"\",\r\n                 \"rotation\":0,\r\n                 \"type\":\"\",\r\n                 \"visible\":true,\r\n                 \"width\":32,\r\n                 \"x\":64,\r\n                 \"y\":416\r\n                }, \r\n                {\r\n                 \"gid\":65,\r\n                 \"height\":32,\r\n                 \"id\":19,\r\n                 \"name\":\"\",\r\n                 \"rotation\":0,\r\n                 \"type\":\"\",\r\n                 \"visible\":true,\r\n                 \"width\":32,\r\n                 \"x\":192,\r\n                 \"y\":320\r\n                }, \r\n                {\r\n                 \"gid\":65,\r\n                 \"height\":32,\r\n                 \"id\":20,\r\n                 \"name\":\"\",\r\n                 \"rotation\":0,\r\n                 \"type\":\"\",\r\n                 \"visible\":true,\r\n                 \"width\":32,\r\n                 \"x\":256,\r\n                 \"y\":384\r\n                }, \r\n                {\r\n                 \"gid\":65,\r\n                 \"height\":32,\r\n                 \"id\":22,\r\n                 \"name\":\"\",\r\n                 \"rotation\":0,\r\n                 \"type\":\"\",\r\n                 \"visible\":true,\r\n                 \"width\":32,\r\n                 \"x\":224,\r\n                 \"y\":96\r\n                }, \r\n                {\r\n                 \"gid\":65,\r\n                 \"height\":32,\r\n                 \"id\":23,\r\n                 \"name\":\"\",\r\n                 \"rotation\":0,\r\n                 \"type\":\"\",\r\n                 \"visible\":true,\r\n                 \"width\":32,\r\n                 \"x\":352,\r\n                 \"y\":352\r\n                }, \r\n                {\r\n                 \"gid\":65,\r\n                 \"height\":32,\r\n                 \"id\":24,\r\n                 \"name\":\"\",\r\n                 \"rotation\":0,\r\n                 \"type\":\"\",\r\n                 \"visible\":true,\r\n                 \"width\":32,\r\n                 \"x\":480,\r\n                 \"y\":288\r\n                }, \r\n                {\r\n                 \"gid\":65,\r\n                 \"height\":32,\r\n                 \"id\":25,\r\n                 \"name\":\"\",\r\n                 \"rotation\":0,\r\n                 \"type\":\"\",\r\n                 \"visible\":true,\r\n                 \"width\":32,\r\n                 \"x\":448,\r\n                 \"y\":416\r\n                }, \r\n                {\r\n                 \"gid\":65,\r\n                 \"height\":32,\r\n                 \"id\":26,\r\n                 \"name\":\"\",\r\n                 \"rotation\":0,\r\n                 \"type\":\"\",\r\n                 \"visible\":true,\r\n                 \"width\":32,\r\n                 \"x\":544,\r\n                 \"y\":128\r\n                }],\r\n         \"opacity\":1,\r\n         \"type\":\"objectgroup\",\r\n         \"visible\":true,\r\n         \"x\":0,\r\n         \"y\":0\r\n        }],\r\n \"nextlayerid\":6,\r\n \"nextobjectid\":27,\r\n \"orientation\":\"orthogonal\",\r\n \"renderorder\":\"right-down\",\r\n \"tiledversion\":\"1.2.3\",\r\n \"tileheight\":32,\r\n \"tilesets\":[\r\n        {\r\n         \"columns\":8,\r\n         \"firstgid\":1,\r\n         \"image\":\"..\\/..\\/..\\/..\\/..\\/..\\/Downloads\\/dungeonTileset.png\",\r\n         \"imageheight\":256,\r\n         \"imagewidth\":256,\r\n         \"margin\":0,\r\n         \"name\":\"dungeonTileset\",\r\n         \"spacing\":0,\r\n         \"tilecount\":64,\r\n         \"tileheight\":32,\r\n         \"tiles\":[\r\n                {\r\n                 \"id\":36,\r\n                 \"properties\":[\r\n                        {\r\n                         \"name\":\"collides\",\r\n                         \"type\":\"bool\",\r\n                         \"value\":true\r\n                        }]\r\n                }, \r\n                {\r\n                 \"id\":37,\r\n                 \"properties\":[\r\n                        {\r\n                         \"name\":\"collides\",\r\n                         \"type\":\"bool\",\r\n                         \"value\":true\r\n                        }]\r\n                }, \r\n                {\r\n                 \"id\":38,\r\n                 \"properties\":[\r\n                        {\r\n                         \"name\":\"collides\",\r\n                         \"type\":\"bool\",\r\n                         \"value\":true\r\n                        }]\r\n                }, \r\n                {\r\n                 \"id\":39,\r\n                 \"properties\":[\r\n                        {\r\n                         \"name\":\"collides\",\r\n                         \"type\":\"bool\",\r\n                         \"value\":true\r\n                        }]\r\n                }, \r\n                {\r\n                 \"id\":44,\r\n                 \"properties\":[\r\n                        {\r\n                         \"name\":\"collides\",\r\n                         \"type\":\"bool\",\r\n                         \"value\":true\r\n                        }]\r\n                }, \r\n                {\r\n                 \"id\":45,\r\n                 \"properties\":[\r\n                        {\r\n                         \"name\":\"collides\",\r\n                         \"type\":\"bool\",\r\n                         \"value\":true\r\n                        }]\r\n                }, \r\n                {\r\n                 \"id\":46,\r\n                 \"properties\":[\r\n                        {\r\n                         \"name\":\"collides\",\r\n                         \"type\":\"bool\",\r\n                         \"value\":true\r\n                        }]\r\n                }, \r\n                {\r\n                 \"id\":52,\r\n                 \"properties\":[\r\n                        {\r\n                         \"name\":\"collides\",\r\n                         \"type\":\"bool\",\r\n                         \"value\":true\r\n                        }]\r\n                }, \r\n                {\r\n                 \"id\":53,\r\n                 \"properties\":[\r\n                        {\r\n                         \"name\":\"collides\",\r\n                         \"type\":\"bool\",\r\n                         \"value\":true\r\n                        }]\r\n                }, \r\n                {\r\n                 \"id\":54,\r\n                 \"properties\":[\r\n                        {\r\n                         \"name\":\"collides\",\r\n                         \"type\":\"bool\",\r\n                         \"value\":true\r\n                        }]\r\n                }],\r\n         \"tilewidth\":32\r\n        }, \r\n        {\r\n         \"columns\":1,\r\n         \"firstgid\":65,\r\n         \"image\":\"..\\/..\\/..\\/..\\/..\\/..\\/Downloads\\/block.png\",\r\n         \"imageheight\":32,\r\n         \"imagewidth\":32,\r\n         \"margin\":0,\r\n         \"name\":\"block\",\r\n         \"spacing\":0,\r\n         \"tilecount\":1,\r\n         \"tileheight\":32,\r\n         \"tilewidth\":32\r\n        }],\r\n \"tilewidth\":32,\r\n \"type\":\"map\",\r\n \"version\":1.2,\r\n \"width\":20\r\n};","import { CST } from \"../CST\";\r\nexport class LoadScene extends Phaser.Scene {\r\n  constructor() {\r\n    super({\r\n      key: CST.SCENES.LOAD\r\n    });\r\n  }\r\n\r\n  loadImages() {\r\n    this.load.spritesheet(\"pushBlock\", require(\"../assets/image/block.png\"), {\r\n      frameWidth: 32,\r\n      frameHeight: 32\r\n    });\r\n\r\n    this.load.spritesheet(\"monster\", require(\"../assets/image/enemy.png\"), {\r\n      frameWidth: 32,\r\n      frameHeight: 32\r\n    });\r\n\r\n    this.load.spritesheet(\"characterBait\", require(\"../assets/image/character.png\"), {\r\n      frameWidth: 32,\r\n      frameHeight: 32\r\n    });\r\n\r\n    this.load.spritesheet(\"bait\", require(\"../assets/image/Food.png\"), {\r\n      frameWidth: 16,\r\n      frameHeight: 16\r\n  });\r\n\r\n    this.load.image(\"play_button\", require(\"../assets/image/play_button2.png\"));\r\n    this.load.image(\"options_button\", require(\"../assets/image/options_button2.png\"));\r\n    this.load.image(\"background\", require(\"../assets/image/background2.jpg\"));\r\n  }\r\n\r\n  preload() {\r\n    this.loadImages();\r\n\r\n    //load map\r\n    this.load.image(\"Dungeon\", require(\"../assets/image/tileset_dungeon2.png\"));\r\n    this.load.tilemapTiledJSON(\"mappy\", require(\"../assets/maps/level1.json\"));\r\n\r\n    // loading bar\r\n    var progressBar = this.add.graphics();\r\n    var progressBox = this.add.graphics();\r\n    progressBox.fillStyle(0x222222, 0.8);\r\n    progressBox.fillRect(160.5, 270, 320, 50);\r\n\r\n    var width = this.cameras.main.width;\r\n    var height = this.cameras.main.height;\r\n    var loadingText = this.make.text({\r\n      x: width / 2,\r\n      y: height / 2 - 50,\r\n      text: 'Loading...',\r\n      style: {\r\n        font: '20px monospace',\r\n        fill: '#ffffff'\r\n      }\r\n    });\r\n\r\n    loadingText.setOrigin(0.5, 0.5);\r\n\r\n    var percentText = this.make.text({\r\n      x: width / 2,\r\n      y: height / 2 - 5,\r\n      text: '0%',\r\n      style: {\r\n        font: '18px monospace',\r\n        fill: '#ffffff'\r\n      }\r\n    });\r\n    percentText.setOrigin(0.5, 0.5);\r\n\r\n    var assetText = this.make.text({\r\n      x: width / 2,\r\n      y: height / 2 + 50,\r\n      text: '',\r\n      style: {\r\n        font: '18px monospace',\r\n        fill: '#ffffff'\r\n      }\r\n    });\r\n\r\n    assetText.setOrigin(0.5, 0.5);\r\n\r\n    // @ts-ignore\r\n    this.load.on('progress', function (value) {\r\n      // @ts-ignore\r\n      percentText.setText(parseInt(value * 100) + '%');\r\n      progressBar.clear();\r\n      progressBar.fillStyle(0xffffff, 1);\r\n      progressBar.fillRect(175.5, 280, 290 * value, 30);\r\n    });\r\n\r\n    // @ts-ignore\r\n    this.load.on('fileprogress', function (file) {\r\n      assetText.setText('Loading asset: ' + file.key);\r\n    });\r\n\r\n    this.load.on(\"complete\", () => {\r\n      progressBar.destroy();\r\n      progressBox.destroy();\r\n      loadingText.destroy();\r\n      percentText.destroy();\r\n      assetText.destroy();\r\n\r\n      this.scene.start(CST.SCENES.MENU);\r\n    });\r\n\r\n    //simulate large load\r\n    for (let i = 0; i < 200; i++) {\r\n      this.load.spritesheet(\"cat\" + i, \"./assets/cat.png\", {\r\n        frameHeight: 32,\r\n        frameWidth: 32\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { CST } from \"../CST\";\r\nexport class MenuScene extends Phaser.Scene {\r\n  constructor() {\r\n    super({\r\n      key: CST.SCENES.MENU\r\n    });\r\n  }\r\n  init() {}\r\n  create() {\r\n    //creating the menu screen\r\n\r\n    //create images\r\n\r\n    let background = this.add\r\n      .image(0, 0, \"background\")\r\n      .setOrigin(0)\r\n      .setDepth(0);\r\n\r\n    let playButton = this.add\r\n      .image(\r\n        this.game.renderer.width / 2,\r\n        this.game.renderer.height / 2,\r\n        \"play_button\"\r\n      )\r\n      .setDepth(1);\r\n\r\n    let optionsButton = this.add\r\n      .image(\r\n        this.game.renderer.width / 2,\r\n        this.game.renderer.height / 2 + 100,\r\n        \"options_button\"\r\n      )\r\n      .setDepth(1);\r\n\r\n    playButton.setInteractive();\r\n\r\n    playButton.on(\"pointerup\", () => {\r\n      this.scene.start(CST.SCENES.PLAY);\r\n    });\r\n\r\n    optionsButton.setInteractive();\r\n\r\n    optionsButton.on(\"pointerup\", () => {\r\n      //options\r\n    });\r\n  }\r\n}\r\n","import { PlayScene } from \"../scenes/PlayScene\";\r\nimport { Arcade } from \"../utils/arcade\";\r\nimport { MonsterHunter } from \"../main\";\r\n\r\nexport class characterBait extends Phaser.Physics.Arcade.Sprite {\r\n  private playScene: PlayScene;\r\n  private keyboard: any;\r\n  private arcade: Arcade;\r\n\r\n  constructor(scene: PlayScene) {\r\n    super(scene, 144, 415, \"characterBait\");\r\n\r\n    let g = this.scene.game as MonsterHunter;\r\n    this.arcade = g.arcade;\r\n\r\n    this.playScene = scene;\r\n\r\n    this.scene.add.existing(this);\r\n    this.setDepth(5);\r\n    this.addPhysics();\r\n    this.addAnimations();\r\n\r\n    this.keyboard = this.scene.input.keyboard.addKeys(\"W, A, S, D, B, F\");\r\n  }\r\n\r\n  private addPhysics() {\r\n    this.scene.physics.add.existing(this);\r\n    this.setSize(this.displayWidth, this.displayHeight);\r\n    this.setCollideWorldBounds(true);\r\n  }\r\n\r\n  public update(): void {\r\n    this.keyboardInput();\r\n    this.joystickInput();\r\n  }\r\n\r\n  public addAnimations(): void {\r\n    this.scene.anims.create({\r\n      key: \"walk\",\r\n      frames: this.scene.anims.generateFrameNumbers(\"characterBait\", {\r\n        start: 3,\r\n        end: 5\r\n      }),\r\n      frameRate: 10\r\n    });\r\n  }\r\n\r\n  private joystickInput(): void {\r\n    for (let joystick of this.arcade.Joysticks) {\r\n      joystick.update();\r\n    }\r\n\r\n    if (this.arcade.Joysticks[1]) {\r\n      this.play(\"walk\", true);\r\n      this.setVelocityX(this.arcade.Joysticks[1].X * 100);\r\n      this.setVelocityY(this.arcade.Joysticks[1].Y * 100);\r\n\r\n      if (this.arcade.Joysticks[1].X == 1) {\r\n        this.flipX = false;\r\n      }\r\n\r\n      if (this.arcade.Joysticks[1].X == -1) {\r\n        this.flipX = true;\r\n      }\r\n\r\n      if (this.arcade.Joysticks[1].X == 0 && this.arcade.Joysticks[1].Y == 0) {\r\n        this.play(\"walk\", false);\r\n\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n  private keyboardInput(): void {\r\n    // player movement\r\n    if (this.keyboard.W.isDown) {\r\n      this.setVelocityY(-100);\r\n      this.play(\"walk\", true);\r\n      this.flipX = false;\r\n    }\r\n\r\n    if (this.keyboard.S.isDown) {\r\n      this.setVelocityY(100);\r\n      this.play(\"walk\", true);\r\n    }\r\n\r\n    if (this.keyboard.A.isDown) {\r\n      this.setVelocityX(-100);\r\n      this.play(\"walk\", true);\r\n      this.flipX = true;\r\n    }\r\n\r\n    if (this.keyboard.D.isDown) {\r\n      this.setVelocityX(100);\r\n      this.play(\"walk\", true);\r\n      this.flipX = false;\r\n    }\r\n\r\n    if (this.keyboard.A.isUp && this.keyboard.D.isUp) {\r\n      this.setVelocityX(0);\r\n    }\r\n\r\n    if (this.keyboard.S.isUp && this.keyboard.W.isUp) {\r\n      this.setVelocityY(0);\r\n    }\r\n  }\r\n}\r\n","import { PlayScene } from \"../scenes/PlayScene\"\r\n\r\nexport class pushBlock extends Phaser.Physics.Arcade.Sprite {\r\n\r\n    private playScene: PlayScene\r\n \r\n    constructor(scene: PlayScene, x:number, y:number) {\r\n        super(scene, x, y, \"pushBlock\")\r\n\r\n        this.playScene = scene\r\n\r\n        this.scene.add.existing(this)\r\n        this.setDepth(5)\r\n        this.addPhysics()\r\n        this.setImmovable(true)\r\n    }\r\n\r\n    private addPhysics() {\r\n        this.scene.physics.add.existing(this);\r\n        this.setSize(this.displayWidth, this.displayHeight)\r\n        this.setCollideWorldBounds(true)\r\n    }\r\n}","import { PlayScene } from \"../scenes/PlayScene\";\r\n\r\nexport class enemy extends Phaser.Physics.Arcade.Sprite {\r\n  private playScene: PlayScene;\r\n  private walking_distance: number;\r\n  private new_position: number | undefined;\r\n  private direction: number;\r\n  private previous_position: number;\r\n\r\n  constructor(scene: PlayScene) {\r\n    super(scene, 300, 350, \"monster\");\r\n\r\n    this.playScene = scene;\r\n    this.scene.add.existing(this);\r\n    this.setDepth(5);\r\n    this.addPhysics();\r\n    this.addAnimations();\r\n    this.play(\"walkenemy\", true);\r\n    this.setVelocityY(-100);\r\n    this.flipX = true;\r\n    this.walking_distance = Phaser.Math.Between(98, 255);\r\n    this.direction = this.angle;\r\n    this.previous_position = this.x;\r\n  }\r\n\r\n  private addPhysics() {\r\n    this.scene.physics.add.existing(this);\r\n    this.setSize(this.displayWidth, this.displayHeight);\r\n    this.setCollideWorldBounds(true);\r\n  }\r\n\r\n  public addAnimations(): void {\r\n    this.scene.anims.create({\r\n      key: \"walkenemy\",\r\n      frames: this.scene.anims.generateFrameNumbers(\"monster\", {\r\n        start: 0,\r\n        end: 3\r\n      }),\r\n      repeat: -1,\r\n      frameRate: 10\r\n    });\r\n  }\r\n\r\n  public collideWall() {\r\n    // AI movement\r\n    let direction = Phaser.Math.Between(1, 4);\r\n    if (direction == 1) {\r\n      this.setVelocityY(-100);\r\n    } else if (direction == 2) {\r\n      this.setVelocityY(100);\r\n    } else if (direction == 3) {\r\n      this.setVelocityX(100);\r\n      this.flipX = false;\r\n    } else {\r\n      this.setVelocityX(-100);\r\n      this.flipX = true;\r\n    }\r\n  }\r\n\r\n  public update() {\r\n    //test for better ai\r\n    // this.new_position =  this.x;\r\n    // if (Math.abs(this.new_position - this.previous_position) >= this.walking_distance) {\r\n    //     this.switch_direction();\r\n    // }\r\n  }\r\n\r\n  public switch_direction() {\r\n    this.previous_position = this.x;\r\n    this.body.velocity.x *= -1;\r\n    this.flipX = true;\r\n  }\r\n}\r\n","import { PlayScene } from \"../scenes/PlayScene\"\r\n\r\nexport class bait extends Phaser.Physics.Arcade.Sprite {\r\n\r\n    private playScene: PlayScene\r\n    private Keyboard: any\r\n\r\n\r\n    constructor(scene: PlayScene, x:number , y:number) {\r\n        super(scene, x, y , \"bait\", 50 )\r\n\r\n        this.playScene = scene\r\n        this.scene.add.existing(this)\r\n        this.setDepth(5);\r\n    }\r\n\r\n}","import { CST } from \"../CST\";\r\nimport { characterBait } from \"../objects/characterBait\"\r\nimport { pushBlock } from \"../objects/pushBlock\"\r\nimport { enemy } from \"../objects/enemy\";\r\nimport { bait } from \"../objects/bait\";\r\nimport { Arcade } from \"../utils/arcade\";\r\n\r\n\r\nexport class PlayScene extends Phaser.Scene {\r\n    private player!: characterBait;\r\n    private blockGroup! : Phaser.Physics.Arcade.Group\r\n    private enemy!: enemy\r\n    private baitGroup!: Phaser.GameObjects.Group\r\n    private baitCounter: number\r\n    private keyObj!: Phaser.Input.Keyboard.Key\r\n    private Keyboard: any\r\n\r\n    constructor() {\r\n        super({\r\n            key: CST.SCENES.PLAY\r\n        });\r\n\r\n        document.addEventListener(\"joystick1button1\", () => this.placeBait ())\r\n        this.baitCounter = 3;\r\n    }\r\n\r\n    create() {\r\n\r\n        //map\r\n        let mappy = this.add.tilemap(\"mappy\");\r\n        let terrain = mappy.addTilesetImage(\"dungeonTileset\", \"Dungeon\");\r\n\r\n        //layers\r\n        let ground = mappy.createStaticLayer(\"ground\", [terrain], 0, 0).setDepth(0);\r\n        let wall = mappy.createStaticLayer(\"wall\", [terrain], 0, 0).setDepth(1);\r\n        let top = mappy.createStaticLayer(\"top\", [terrain], 0, 0).setDepth(2);\r\n\r\n        // pushable blocks\r\n        let pushableBlocks = [];\r\n        pushableBlocks = mappy.createFromObjects(\"pushBlocks\", 65, {key: \"pushableBlocks\" })\r\n\r\n        this.blockGroup = this.physics.add.group()\r\n\r\n        for (let i = 0; i < pushableBlocks.length; i++ ) {\r\n            this.blockGroup.add(new pushBlock(this, pushableBlocks[i].x, pushableBlocks[i].y ))\r\n        }\r\n\r\n        //bait\r\n        this.baitGroup = this.add.group({ runChildUpdate: true })\r\n\r\n        // players\r\n        this.player = new characterBait(this)\r\n\r\n        // enemies\r\n        this.enemy = new enemy(this)\r\n\r\n        //map collisions\r\n        this.physics.add.collider(this.player, ground);\r\n        this.physics.add.collider(this.player, wall);\r\n        this.physics.add.collider(this.player, top);\r\n\r\n        this.physics.add.collider(this.player, this.blockGroup, this.bounceWall, undefined, this)\r\n        this.physics.add.collider(this.player, this.enemy, this.gameOver, undefined, this)\r\n\r\n        this.physics.add.collider(this.enemy, ground);\r\n        this.physics.add.collider(this.enemy, wall);\r\n        this.physics.add.collider(this.enemy, top, this.collidewall, undefined, this);\r\n\r\n        this.physics.add.collider(this.enemy, this.blockGroup, this.enemyDie, undefined, this)\r\n\r\n        this.physics.add.collider(this.blockGroup, top)\r\n\r\n        this.physics.add.overlap(this.player, this.baitGroup, this.pickupBait, undefined, this)\r\n\r\n        //tile property collisions\r\n        ground.setCollisionByProperty({ collides: true });\r\n        wall.setCollisionByProperty({ collides: true });\r\n        top.setCollisionByProperty({ collides: true });\r\n\r\n        this.keyObj = this.input.keyboard.addKey('B');  // Get key object\r\n        this.Keyboard = this.input.keyboard.addKeys(\"F\");\r\n\r\n    }\r\n\r\n    placeBait() {\r\n        if (this.baitCounter !== 0) {\r\n            this.baitGroup.add(new bait(this, this.player.x, this.player.y), true)\r\n            this.baitCounter--\r\n        }\r\n    }\r\n\r\n    pickupBait(b: bait) {\r\n        console.log(\"moi\")\r\n    }\r\n\r\n    bounceWall(b: pushBlock) {\r\n          //move block when pushed\r\n          if (b.body.touching.left && this.Keyboard.F.isDown)\r\n          b.setVelocityX(175)\r\n      else if (b.body.touching.right && this.Keyboard.F.isDown) {\r\n          b.setVelocityX(-175)\r\n      } else if (b.body.touching.up && this.Keyboard.F.isDown) {\r\n          b.setVelocityY(175)\r\n      } else if (b.body.touching.down && this.Keyboard.F.isDown) {\r\n          b.setVelocityY(-175)\r\n      }\r\n    }\r\n\r\n    collidewall() {\r\n        // @ts-ignore\r\n        this.enemy.collideWall()\r\n    }\r\n\r\n    gameOver() {\r\n        this.scene.start(\"gameover\");\r\n    }\r\n\r\n    enemyDie(b: pushBlock) {\r\n        if (b.body.velocity.x !== 0 || b.body.velocity.y !== 0) {\r\n            this.enemy.destroy()\r\n\r\n            // slow block down\r\n            setTimeout(() => {\r\n                b.setVelocity(0);\r\n            }, 150);\r\n        } else {\r\n            this.collidewall()\r\n        }\r\n    }\r\n\r\n    update() {\r\n        if (this.input.keyboard.checkDown(this.keyObj, 500)) {\r\n            this.placeBait()\r\n        }\r\n\r\n        this.player.update()\r\n        this.enemy.update()\r\n    }\r\n}\r\n","import { CST } from \"../CST\";\r\n\r\nexport class GameOverScene extends Phaser.Scene {\r\n    constructor() {\r\n        super({\r\n            key: \"gameover\"\r\n        });\r\n    }\r\n\r\n    create() {\r\n        let playAgainButton = this.add.text(400, 420, 'CLICK TO PLAY AGAIN ', { fontFamily: 'Arial', fontSize: 22, color: '#ff3434' }).setOrigin(0.5).setDepth(5)\r\n\r\n        playAgainButton.setInteractive();\r\n\r\n        playAgainButton.on(\"pointerup\", () => {\r\n            this.scene.start(CST.SCENES.PLAY);\r\n        });\r\n\r\n        this.add\r\n            .image(0, 0, \"background\")\r\n            .setOrigin(0)\r\n            .setDepth(0);\r\n    }\r\n\r\n}","/** @type {import(\"./typings/phaser\")} */\r\n\r\nimport { Arcade } from \"./utils/arcade\"\r\nimport { LoadScene } from \"./scenes/LoadScene\";\r\nimport { MenuScene } from \"./scenes/MenuScene\";\r\nimport { PlayScene } from \"./scenes/PlayScene\";\r\nimport { GameOverScene } from \"./scenes/GameOverScene\";\r\n// @ts-ignore\r\n\r\n\r\nconst config: Phaser.Types.Core.GameConfig = {\r\n  width: 640,\r\n  height: 480,\r\n  scene: [LoadScene, MenuScene, PlayScene, GameOverScene],\r\n  render: {\r\n    pixelArt: true\r\n  },\r\n  physics: {\r\n    default: \"arcade\",\r\n    arcade: {\r\n      debug: true\r\n    }\r\n  },\r\n\r\n  scale: {\r\n    mode: Phaser.Scale.FIT,\r\n    autoCenter: Phaser.Scale.CENTER_BOTH\r\n  }\r\n}\r\n \r\nexport class MonsterHunter extends Phaser.Game {\r\n\r\n  public arcade:Arcade\r\n\r\n  constructor(config: Phaser.Types.Core.GameConfig) {\r\n      super(config)\r\n\r\n      // create the arcade once, otherwise we keep connecting/disconnecting every scene\r\n      this.arcade = new Arcade()\r\n  }\r\n}\r\n\r\nwindow.addEventListener(\"load\", () => new MonsterHunter(config))\r\n\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}